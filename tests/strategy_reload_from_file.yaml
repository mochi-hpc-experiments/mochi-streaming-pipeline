# Test: reload_from_file forwarding strategy
# Write to disk, read back, then forward

pipeline:
  total_data_bytes: 4194304  # 4 MB
  network_protocol: "tcp"
  verify_checksums: true
  thallium:
    progress_thread: true
    rpc_thread_count: 2

sender_to_broker:
  message_size: 524288        # 512 KB
  messages_per_batch: 2       # 1 MB batches
  max_concurrent_batches: 2
  transfer_mode: "rpc_inline"

broker:
  output_file: "/tmp/test_reload_from_file.dat"
  concurrent_rdma_pulls: 2
  ack_timing: "ack_on_persist"
  forward_strategy: "reload_from_file"
  abt_io:
    concurrent_writes: 2

broker_to_receiver:
  message_size: 524288
  messages_per_batch: 2
  max_concurrent_batches: 2
  transfer_mode: "rpc_inline"
