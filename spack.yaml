spack:
  specs:
  - mochi-thallium
  - mochi-margo ^mercury~boostsys~checksum ^libfabric fabrics=tcp,rxm
  - mochi-abt-io
  - yaml-cpp
  - mpich
  # for parameter space exploration
  - py-pydantic
  - py-pyyaml
  - py-pytest
  - py-deephyper
  # py-deephyper requires the deephyper-spack-packages package repository:
  #
  # ```
  # git clone https://github.com/deephyper/deephyper-spack-packages.git
  # spack repo add deephyper-spack-packages
  # ```
  concretizer:
    unify: true
    reuse: true
  modules:
    prefix_inspections:
      lib: [LD_LIBRARY_PATH]
      lib64: [LD_LIBRARY_PATH]
  packages:
    mochi-margo:
      require: "@0.22.0:"
