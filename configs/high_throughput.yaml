# High throughput configuration
# Optimized for maximum transfer speed with weak consistency guarantees

pipeline:
  total_data_bytes: 107374182400  # 100 GB
  network_protocol: "ofi+verbs"   # Use RDMA-capable network
  verify_checksums: false         # Disable for maximum performance

  thallium:
    progress_thread: true
    rpc_thread_count: 8           # More handler threads

sender_to_broker:
  message_size: 4194304           # 4 MB per message
  messages_per_batch: 16          # 64 MB per batch
  max_concurrent_batches: 8       # More in-flight batches
  transfer_mode: "rdma_registered"

broker:
  output_file: "/mnt/nvme/output.dat"
  concurrent_rdma_pulls: 8
  ack_timing: "ack_on_receive"    # Ack immediately after receive
  forward_strategy: "forward_immediate"  # Forward without waiting for persist
  passthrough_persist: false      # Skip file I/O for maximum speed

  abt_io:
    concurrent_writes: 16         # Many concurrent writes

broker_to_receiver:
  message_size: 4194304
  messages_per_batch: 16
  max_concurrent_batches: 8
  transfer_mode: "rdma_registered"
